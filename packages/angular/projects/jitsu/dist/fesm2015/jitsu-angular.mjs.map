{"version":3,"file":"jitsu-angular.mjs","sources":["../../src/lib/ngx-jitsu.config.ts","../../src/lib/ngx-jitsu.service.ts","../../src/lib/ngx-jitsu.module.ts","../../src/public-api.ts","../../src/jitsu-angular.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\nimport { JitsuOptions } from \"@jitsu/sdk-js\";\n\nexport const JITSU_CONFIG: InjectionToken<JitsuOptions> = new InjectionToken<JitsuOptions>('jitsu.config');\n","import { Inject, Injectable } from '@angular/core';\nimport { JITSU_CONFIG } from \"./ngx-jitsu.config\";\nimport { JitsuOptions, jitsuClient, JitsuClient, EventPayload, UserProps } from \"@jitsu/sdk-js\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxJitsuService {\n  private client: JitsuClient\n\n  constructor(@Inject(JITSU_CONFIG) private readonly config: JitsuOptions) {\n    this.client = jitsuClient(config)\n  }\n\n  public id = (userData: UserProps, doNotSendEvent?: boolean) => {\n    this.client.id(userData, doNotSendEvent)\n  }\n\n  public track = (typeName: string, payload?: EventPayload) => {\n    this.client.track(typeName, payload);\n  }\n\n  public trackPageView = () => {\n    this.client.track('pageview');\n  }\n\n  public rawTrack = (payload: any) => {\n    this.client.rawTrack(payload);\n  }\n\n  public interceptAnalytics = (analytics: any) => {\n    this.client.interceptAnalytics(analytics);\n  }\n}\n","import { ModuleWithProviders, NgModule, Optional, SkipSelf } from '@angular/core';\nimport { JitsuOptions } from \"@jitsu/sdk-js\";\nimport { NgxJitsuService } from \"./ngx-jitsu.service\";\nimport { JITSU_CONFIG } from \"./ngx-jitsu.config\";\n\n\n@NgModule({\n  declarations: [],\n  imports: [],\n  exports: [],\n})\nexport class NgxJitsuModule {\n\n  public static forRoot(config?: JitsuOptions): ModuleWithProviders<NgxJitsuModule> {\n    return {\n      ngModule: NgxJitsuModule,\n      providers: [\n        { provide: JITSU_CONFIG, useValue: config },\n        NgxJitsuService,\n      ],\n    };\n  }\n\n  constructor(\n    @Optional() @SkipSelf() parentModule?: NgxJitsuModule\n  ) {\n    if (parentModule) {\n      throw new Error('NgxJitsuTrackerModule is already loaded. Import it in the AppModule only');\n    }\n  }\n}\n","/*\n * Public API Surface of tracker\n */\n\nexport * from './lib/ngx-jitsu.service';\nexport * from './lib/ngx-jitsu.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}